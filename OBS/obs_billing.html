<!doctype html><html lang="en"><head><meta charset="utf-8"><title>OBS | Billing</title>
<link rel="stylesheet" href="css/style.css"><link rel="stylesheet" href="css/print.css" media="print"></head><body>
<header class="appbar"><h1>Billing</h1><nav class="appnav"><a href="obs_dashboard.html">Dashboard</a><a href="obs_stock.html">Stock</a><a href="obs_search.html">Search</a><a href="obs_company.html">Company</a></nav></header>

<div class="container grid grid-2">
  <div class="card">
    <h3>Buyer</h3>
    <div class="grid grid-2">
      <div><label>Name</label><input id="custName" type="text" placeholder="Customer name"></div>
      <div><label>Address</label><input id="custAddress" type="text" placeholder="Customer address"></div>
    </div>

    <h3 style="margin-top:12px">Items</h3>
    <div id="items"></div>
    <div style="margin-top:8px"><button class="btn" onclick="addItemRow()">Add Item</button></div>

    <div class="grid grid-3" style="margin-top:12px">
      <div><label>Discount % (applied first)</label><input id="discount" type="number" value="0"></div>
      <div><label>VAT % (after discount)</label><input id="vat" type="number" value="0"></div>
      <div><label>Payment</label><select id="payment"><option>Cash</option><option>Online</option></select></div>
    </div>

    <div id="cashFields" style="display:block;margin-top:12px" class="grid grid-3">
      <div><label>Total</label><input id="total" readonly></div>
      <div><label>Amount Given</label><input id="given" type="number" oninput="recalc()"></div>
      <div><label>Change</label><input id="change" readonly></div>
    </div>

    <div id="onlineFields" style="display:none;margin-top:12px">
      <div class="notice">Online payment QR appears on the printed bill.</div>
    </div>

    <div style="margin-top:12px;display:flex;gap:8px"><button class="btn" onclick="generateBill()">Generate Bill</button><button class="btn ghost" onclick="window.print()">Print Bill</button></div>
  </div>

  <div class="card">
    <div class="previewHeader"><h3>Preview</h3><div class="notice">Live totals update automatically</div></div>
    <div class="notice" style="margin-bottom:8px">Subtotal: <b id="liveSubtotal">0.00</b> | After Discount: <b id="liveAfterDisc">0.00</b> | VAT: <b id="liveVatAmt">0.00</b> | Grand: <b id="liveGrand">0.00</b></div>
    <div id="billOutput" class="card" style="padding:10px">Generate a bill to preview here.</div>
    <h4 style="margin-top:12px">Stock</h4>
    <div id="stockSide" class="stockSide"></div>
  </div>
</div>

<footer class="site">Â© 2025 OBS</footer>
<script src="js/billing.js"></script></body></html>
